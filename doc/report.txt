-------------------------------------------------------------------------------------------------------------------------------Активация правила пробития MA100:+1) При достижении отклонения котировки FTMUSDT от момента пробития МА100 на 4%, то начинает действовать правило Пробитие МА100+2) пересчитать подсчёт расстояния-------------------------------------------------------------------------------------------------------------------------------Правило пробития МА100 (рассматриваем лонговую ситуацию, все то же самое действует в шорт):+1) при закреплении цены FTMUSDT выше MA100, ждем следующую зеленую свечу выше МА100(она может наступить после 1,2,3… красных свечек, и на ее закрытии входим в лонг.Отмена сделки:+1) При закрытии одной из следующих свечек после 1 свечи-подтверждения ниже МА100, сделка отменяется (и мы опять ждем закрепление 2 свечек выше МА100)+2) Если 2 свечи закрылись выше/ниже МА100, но с удаленностью в 1% от нее, то сделка отменяетсяРыночный выход:+1) При не достижении +0.9% и осткака вниз за ma100 выходим рыночным ордеромTP and SL:+0) Take Profit устанавливается на 2%, стоп-лосс на -2%+1) при достижении сделки 0,9% прибыли стоп-лосс ставится на 0,1% прибыли+2) при достижении 1,9% прибыли, стоп-лосс ставится на 1,5%.Выход при стагнации:+1) При недостижении цели в 2% после 5 часов сделка сразу закрывается рыночным ордером.-------------------------------------------------------------------------------------------------------------------------------Отскок от МА100:+0) При достижении удаленности котировки от пробитии МА100 на 2% и ожидания в 2 часа, лимитки устанавливаются на МА100 (Если мы ниже MA100, то выставляем в шорты, если выше, то лонг),+1) Take Profit устанавливается на 1%.+2) При закрытии свечки (рассматриваем ситуацию, когда котировки FTM ниже МА100) в дипазоне -0,05% до +бесконечности,закрываем рыночным ордером3) правило скипа 1 часа при перебежке при отскоке-----------------------------------------------------------------------------------------------------------------------------------------other:+залогировать всё+почистить код и повыносить всё дерьмо в функции+сменить sideпроверить одновременую работу 1 и 2 правила